<script>
  import { invoice } from '../../store/invoiceStore';
  import supabase from '$lib/db';

  import { customer } from '../../store/customerStore';
  import { item, items } from '../../store/itemsStore';
  import Button from '../../components/button.svelte';
  import { goto } from '$app/navigation';
  import { onMount } from 'svelte';
  import { title, user } from '../../store/storeSeesion';
  import IconEdit from '../../components/iconEdit.svelte';

  const handleChangeInvoice = () => {
    goto('/invoice/change');
  };

  const handleChangeNote = () => {
    goto('/invoice/notes');
  };

  const handleChangeCustomer = () => {
    goto('/invoice/customer');
  };

  const handleAddItem = () => {
    goto('/invoice/add-item');
  };

  const handlePreview = () => {
    // invoice.set({...$invoice , created_by : $user.})
    const data = sendData();
    if (data) {
      goto('/invoice/preview');
    }
  };

  let total = 0;
  let vat = 0;
  let tax = 0;
  let amount = 0;
  let submit = false;

  for (let index = 0; index < $items.length; index++) {
    total = total + $items[index].price * $items[index].qty;
    vat = total * 0.1;
    amount = total + vat + ($invoice.tax / 100) * total;
    invoice.set({
      ...$invoice,
      total: total,
      vat: vat,
      grand_total: amount
    });
  }

  onMount(async () => {
    title.set('Create Invoice');
  });

  async function sendData() {
    invoice.set({ ...$invoice, created_by: $user.id, items: $items });
    console.log($user, $invoice);
    const { data, error } = await supabase.from('invoice').insert([$invoice]);
    if (error) throw new Error(error.message);
    if (data) {
      goto(`/invoice/preview?id=${data[0].id}`);
    }

    return data;
  }
</script>

<div
  class="flex justify-between items-end bg-white px-4 pb-4 shadow cursor-pointer"
  on:click={handleChangeInvoice}
>
  <div>
    <div class="text-gray-400 flex items-center">
      <div>Due on {$invoice.due_date}</div>
      <IconEdit />
    </div>
    <div class="font-bold text-2xl">{$invoice.date}</div>
  </div>

  <div>
    <div class="text-gray-400">No</div>
    <div>#{$invoice.number}</div>
  </div>
</div>

<div
  class="w-full fixed  fixed bottom-0 left-0 h-20 px-4 bg-white flex items-end justify-end p-4"
>
  <!-- <Button label="Create" on:click={handlePreview} /> -->

  <form on:submit|preventDefault={() => (submit = true)}>
    <Button
      label="Create"
      type="submit"
      value="Submit"
      on:click={() => (submit = false)}
    />
  </form>

  {#if submit}
    {#await sendData()}
      <p>Sending data...</p>
    {:then data}
      <p>Successfully sent data.</p>
    {:catch error}
      <p>Something went wrong while sending the data:</p>
      <pre>{error}</pre>
    {/await}
  {/if}
</div>

<div class="p-4">
  <div class="mb-4">
    {#if $customer.name}
      <div
        on:click={handleChangeCustomer}
        class="flex bg-white rounded-md p-4 cursor-pointer"
      >
        {$customer.name}
      </div>
    {:else}
      <div
        on:click={handleChangeCustomer}
        class="flex bg-white rounded-md p-4 cursor-pointer"
      >
        <div>
          <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M17.5003 10.8333H16.667V10C16.667 9.77899 16.5792 9.56703 16.4229 9.41075C16.2666 9.25446 16.0547 9.16667 15.8337 9.16667C15.6126 9.16667 15.4007 9.25446 15.2444 9.41075C15.0881 9.56703 15.0003 9.77899 15.0003 10V10.8333H14.167C13.946 10.8333 13.734 10.9211 13.5777 11.0774C13.4215 11.2337 13.3337 11.4457 13.3337 11.6667C13.3337 11.8877 13.4215 12.0996 13.5777 12.2559C13.734 12.4122 13.946 12.5 14.167 12.5H15.0003V13.3333C15.0003 13.5543 15.0881 13.7663 15.2444 13.9226C15.4007 14.0789 15.6126 14.1667 15.8337 14.1667C16.0547 14.1667 16.2666 14.0789 16.4229 13.9226C16.5792 13.7663 16.667 13.5543 16.667 13.3333V12.5H17.5003C17.7213 12.5 17.9333 12.4122 18.0896 12.2559C18.2459 12.0996 18.3337 11.8877 18.3337 11.6667C18.3337 11.4457 18.2459 11.2337 18.0896 11.0774C17.9333 10.9211 17.7213 10.8333 17.5003 10.8333ZM11.0837 12.2667C11.5283 11.8818 11.885 11.4057 12.1294 10.8709C12.3738 10.336 12.5003 9.75476 12.5003 9.16667C12.5003 8.0616 12.0613 7.00179 11.2799 6.22039C10.4985 5.43899 9.43873 5 8.33366 5C7.22859 5 6.16878 5.43899 5.38738 6.22039C4.60598 7.00179 4.16699 8.0616 4.16699 9.16667C4.16699 9.75476 4.29349 10.336 4.53793 10.8709C4.78237 11.4057 5.13901 11.8818 5.58366 12.2667C4.41711 12.7949 3.42738 13.6479 2.73281 14.7238C2.03824 15.7996 1.66822 17.0528 1.66699 18.3333C1.66699 18.5543 1.75479 18.7663 1.91107 18.9226C2.06735 19.0789 2.27931 19.1667 2.50033 19.1667C2.72134 19.1667 2.9333 19.0789 3.08958 18.9226C3.24586 18.7663 3.33366 18.5543 3.33366 18.3333C3.33366 17.0073 3.86044 15.7355 4.79813 14.7978C5.73581 13.8601 7.00758 13.3333 8.33366 13.3333C9.65974 13.3333 10.9315 13.8601 11.8692 14.7978C12.8069 15.7355 13.3337 17.0073 13.3337 18.3333C13.3337 18.5543 13.4215 18.7663 13.5777 18.9226C13.734 19.0789 13.946 19.1667 14.167 19.1667C14.388 19.1667 14.6 19.0789 14.7562 18.9226C14.9125 18.7663 15.0003 18.5543 15.0003 18.3333C14.9991 17.0528 14.6291 15.7996 13.9345 14.7238C13.2399 13.6479 12.2502 12.7949 11.0837 12.2667ZM8.33366 11.6667C7.83921 11.6667 7.35586 11.52 6.94473 11.2453C6.53361 10.9706 6.21318 10.5802 6.02396 10.1234C5.83474 9.66656 5.78523 9.16389 5.8817 8.67894C5.97816 8.19399 6.21626 7.74853 6.56589 7.3989C6.91552 7.04927 7.36098 6.81117 7.84593 6.7147C8.33089 6.61824 8.83355 6.66775 9.29037 6.85697C9.74718 7.04619 10.1376 7.36662 10.4123 7.77774C10.687 8.18886 10.8337 8.67221 10.8337 9.16667C10.8337 9.82971 10.5703 10.4656 10.1014 10.9344C9.63259 11.4033 8.9967 11.6667 8.33366 11.6667Z"
              fill="#3498DB"
            />
          </svg>
        </div>
        <div class="text-[#3498DB] ml-4">Add Customer</div>
      </div>
    {/if}
  </div>
  <div class="text-gray-400 mb-2">Items</div>
  <div>
    {#if $items.length > 0}
      {#each $items as item}
        <div
          class="flex justify-between bg-white rounded-md p-4 cursor-pointer mb-4"
        >
          <div class="flex flex-col ">
            <div>
              {item.name}
            </div>
            <div class="text-gray-400 text-xs">
              {item.description}
            </div>
          </div>

          <div class="flex flex-col justify-end items-end">
            <div class="text-gray-400 text-xs">
              {item.qty} x USD {item.price}
            </div>
            <div class="font-bold">USD {item.price * item.qty}</div>
          </div>
        </div>
      {/each}
      <div
        on:click={handleAddItem}
        class="flex bg-white rounded-md p-4 cursor-pointer"
      >
        <div>
          <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M8.33333 10.8333H3.33333C3.11232 10.8333 2.90036 10.9211 2.74408 11.0774C2.5878 11.2337 2.5 11.4457 2.5 11.6667V16.6667C2.5 16.8877 2.5878 17.0996 2.74408 17.2559C2.90036 17.4122 3.11232 17.5 3.33333 17.5H8.33333C8.55435 17.5 8.76631 17.4122 8.92259 17.2559C9.07887 17.0996 9.16667 16.8877 9.16667 16.6667V11.6667C9.16667 11.4457 9.07887 11.2337 8.92259 11.0774C8.76631 10.9211 8.55435 10.8333 8.33333 10.8333ZM7.5 15.8333H4.16667V12.5H7.5V15.8333ZM16.6667 2.5H11.6667C11.4457 2.5 11.2337 2.5878 11.0774 2.74408C10.9211 2.90036 10.8333 3.11232 10.8333 3.33333V8.33333C10.8333 8.55435 10.9211 8.76631 11.0774 8.92259C11.2337 9.07887 11.4457 9.16667 11.6667 9.16667H16.6667C16.8877 9.16667 17.0996 9.07887 17.2559 8.92259C17.4122 8.76631 17.5 8.55435 17.5 8.33333V3.33333C17.5 3.11232 17.4122 2.90036 17.2559 2.74408C17.0996 2.5878 16.8877 2.5 16.6667 2.5ZM15.8333 7.5H12.5V4.16667H15.8333V7.5ZM16.6667 13.3333H15V11.6667C15 11.4457 14.9122 11.2337 14.7559 11.0774C14.5996 10.9211 14.3877 10.8333 14.1667 10.8333C13.9457 10.8333 13.7337 10.9211 13.5774 11.0774C13.4211 11.2337 13.3333 11.4457 13.3333 11.6667V13.3333H11.6667C11.4457 13.3333 11.2337 13.4211 11.0774 13.5774C10.9211 13.7337 10.8333 13.9457 10.8333 14.1667C10.8333 14.3877 10.9211 14.5996 11.0774 14.7559C11.2337 14.9122 11.4457 15 11.6667 15H13.3333V16.6667C13.3333 16.8877 13.4211 17.0996 13.5774 17.2559C13.7337 17.4122 13.9457 17.5 14.1667 17.5C14.3877 17.5 14.5996 17.4122 14.7559 17.2559C14.9122 17.0996 15 16.8877 15 16.6667V15H16.6667C16.8877 15 17.0996 14.9122 17.2559 14.7559C17.4122 14.5996 17.5 14.3877 17.5 14.1667C17.5 13.9457 17.4122 13.7337 17.2559 13.5774C17.0996 13.4211 16.8877 13.3333 16.6667 13.3333ZM8.33333 2.5H3.33333C3.11232 2.5 2.90036 2.5878 2.74408 2.74408C2.5878 2.90036 2.5 3.11232 2.5 3.33333V8.33333C2.5 8.55435 2.5878 8.76631 2.74408 8.92259C2.90036 9.07887 3.11232 9.16667 3.33333 9.16667H8.33333C8.55435 9.16667 8.76631 9.07887 8.92259 8.92259C9.07887 8.76631 9.16667 8.55435 9.16667 8.33333V3.33333C9.16667 3.11232 9.07887 2.90036 8.92259 2.74408C8.76631 2.5878 8.55435 2.5 8.33333 2.5ZM7.5 7.5H4.16667V4.16667H7.5V7.5Z"
              fill="#3498DB"
            />
          </svg>
        </div>
        <div class="text-[#3498DB] ml-4">Add Item</div>
      </div>
    {:else}
      <div
        on:click={handleAddItem}
        class="flex bg-white rounded-md p-4 cursor-pointer"
      >
        <div>
          <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M8.33333 10.8333H3.33333C3.11232 10.8333 2.90036 10.9211 2.74408 11.0774C2.5878 11.2337 2.5 11.4457 2.5 11.6667V16.6667C2.5 16.8877 2.5878 17.0996 2.74408 17.2559C2.90036 17.4122 3.11232 17.5 3.33333 17.5H8.33333C8.55435 17.5 8.76631 17.4122 8.92259 17.2559C9.07887 17.0996 9.16667 16.8877 9.16667 16.6667V11.6667C9.16667 11.4457 9.07887 11.2337 8.92259 11.0774C8.76631 10.9211 8.55435 10.8333 8.33333 10.8333ZM7.5 15.8333H4.16667V12.5H7.5V15.8333ZM16.6667 2.5H11.6667C11.4457 2.5 11.2337 2.5878 11.0774 2.74408C10.9211 2.90036 10.8333 3.11232 10.8333 3.33333V8.33333C10.8333 8.55435 10.9211 8.76631 11.0774 8.92259C11.2337 9.07887 11.4457 9.16667 11.6667 9.16667H16.6667C16.8877 9.16667 17.0996 9.07887 17.2559 8.92259C17.4122 8.76631 17.5 8.55435 17.5 8.33333V3.33333C17.5 3.11232 17.4122 2.90036 17.2559 2.74408C17.0996 2.5878 16.8877 2.5 16.6667 2.5ZM15.8333 7.5H12.5V4.16667H15.8333V7.5ZM16.6667 13.3333H15V11.6667C15 11.4457 14.9122 11.2337 14.7559 11.0774C14.5996 10.9211 14.3877 10.8333 14.1667 10.8333C13.9457 10.8333 13.7337 10.9211 13.5774 11.0774C13.4211 11.2337 13.3333 11.4457 13.3333 11.6667V13.3333H11.6667C11.4457 13.3333 11.2337 13.4211 11.0774 13.5774C10.9211 13.7337 10.8333 13.9457 10.8333 14.1667C10.8333 14.3877 10.9211 14.5996 11.0774 14.7559C11.2337 14.9122 11.4457 15 11.6667 15H13.3333V16.6667C13.3333 16.8877 13.4211 17.0996 13.5774 17.2559C13.7337 17.4122 13.9457 17.5 14.1667 17.5C14.3877 17.5 14.5996 17.4122 14.7559 17.2559C14.9122 17.0996 15 16.8877 15 16.6667V15H16.6667C16.8877 15 17.0996 14.9122 17.2559 14.7559C17.4122 14.5996 17.5 14.3877 17.5 14.1667C17.5 13.9457 17.4122 13.7337 17.2559 13.5774C17.0996 13.4211 16.8877 13.3333 16.6667 13.3333ZM8.33333 2.5H3.33333C3.11232 2.5 2.90036 2.5878 2.74408 2.74408C2.5878 2.90036 2.5 3.11232 2.5 3.33333V8.33333C2.5 8.55435 2.5878 8.76631 2.74408 8.92259C2.90036 9.07887 3.11232 9.16667 3.33333 9.16667H8.33333C8.55435 9.16667 8.76631 9.07887 8.92259 8.92259C9.07887 8.76631 9.16667 8.55435 9.16667 8.33333V3.33333C9.16667 3.11232 9.07887 2.90036 8.92259 2.74408C8.76631 2.5878 8.55435 2.5 8.33333 2.5ZM7.5 7.5H4.16667V4.16667H7.5V7.5Z"
              fill="#3498DB"
            />
          </svg>
        </div>
        <div class="text-[#3498DB] ml-4">Add Item</div>
      </div>
    {/if}
  </div>
  <div class="text-gray-400 mt-4 mb-2">Total</div>

  <div
    label="Total"
    class="flex bg-white rounded-md p-4 cursor-pointer flex-col mb-4"
  >
    <div class="flex justify-between py-2">
      <div class="text-gray-400 text-xs">Subtotal</div>
      <div class="text-xs font-bold">USD {total}</div>
    </div>
    <div class="flex justify-between py-2 ">
      <div class="text-gray-400 text-xs">VAT</div>
      <div class="text-xs font-bold">USD {$invoice.vat}</div>
    </div>
    <div class="flex justify-between py-2">
      <div class="text-gray-400 text-xs">TAX</div>
      <div class="text-xs font-bold">USD {($invoice.tax / 100) * total}</div>
    </div>
    <div class="flex justify-between py-2 pt-6">
      <div class="text-red-600 ">AMOUNT DUE</div>
      <div class="font-lg">USD {amount}</div>
    </div>
  </div>
  <div
    class="flex bg-white rounded-md p-4 cursor-pointer mb-4"
    on:click={handleChangeNote}
  >
    {#if $invoice.notes}
      <div>
        {$invoice.notes}
      </div>
    {:else}
      <div>
        <svg
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M12.6899 11.79H7.2999C7.0599 11.79 6.8299 11.89 6.6599 12.05C6.4899 12.21 6.3999 12.45 6.3999 12.69C6.3999 12.92 6.4999 13.16 6.6599 13.33C6.8199 13.5 7.0599 13.59 7.2999 13.59H12.6999C12.9399 13.59 13.1699 13.49 13.3399 13.33C13.5099 13.17 13.5999 12.93 13.5999 12.69C13.5999 12.45 13.4999 12.22 13.3399 12.05C13.1699 11.88 12.9299 11.79 12.6899 11.79Z"
            fill="#3498DB"
          />
          <path
            d="M12.6899 8.19H7.2999C7.0599 8.19 6.8299 8.29 6.6599 8.45C6.4899 8.61 6.3999 8.85 6.3999 9.09C6.3999 9.32 6.4999 9.56 6.6599 9.73C6.8199 9.9 7.0499 9.99 7.2999 9.99H12.6999C12.9399 9.99 13.1699 9.89 13.3399 9.73C13.5099 9.57 13.5999 9.33 13.5999 9.09C13.5999 8.85 13.4999 8.62 13.3299 8.45C13.1499 8.28 12.9299 8.19 12.6899 8.19Z"
            fill="#3498DB"
          />
          <path
            d="M16.4 3.58C15.9 3.08 15.2 2.8 14.49 2.8H13.43C13.24 2.27 12.9 1.82 12.45 1.5C11.99 1.17 11.45 1 10.9 1H9.10005C8.54005 1 8.00005 1.17 7.54005 1.49C7.09005 1.81 6.74005 2.26 6.56005 2.79H5.50005C4.78005 2.79 4.10005 3.07 3.59005 3.57C3.08005 4.09 2.80005 4.78 2.80005 5.5V16.29C2.80005 17 3.08005 17.69 3.59005 18.2C4.09005 18.7 4.78005 18.99 5.50005 18.99H10.54C10.77 18.99 11.01 18.89 11.18 18.72C11.34 18.56 11.44 18.32 11.44 18.09C11.44 17.85 11.34 17.62 11.18 17.45C11.01 17.28 10.78 17.19 10.54 17.19H5.50005C5.26005 17.19 5.03005 17.09 4.86005 16.92C4.69005 16.76 4.60005 16.52 4.60005 16.29V5.5C4.60005 5.26 4.69005 5.03 4.86005 4.86C5.03005 4.69 5.26005 4.6 5.50005 4.6H6.40005V5.5C6.40005 5.73 6.49005 5.97 6.66005 6.13C6.83005 6.3 7.05005 6.4 7.30005 6.4H12.7C12.93 6.4 13.17 6.3 13.34 6.13C13.5 5.97 13.6 5.73 13.6 5.5V4.6H14.5C14.73 4.6 14.97 4.69 15.14 4.86C15.3 5.03 15.4 5.26 15.4 5.5V12.32C15.4 12.55 15.49 12.79 15.66 12.95C15.83 13.12 16.06 13.22 16.3 13.22C16.53 13.22 16.77 13.12 16.94 12.95C17.1 12.79 17.2 12.55 17.2 12.32V5.5C17.19 4.78 16.9 4.09 16.4 3.58ZM11.8 4.6H8.20005V3.7C8.20005 3.46 8.29005 3.23 8.46005 3.06C8.63005 2.89 8.85005 2.8 9.10005 2.8H10.9C11.13 2.8 11.37 2.89 11.54 3.06C11.7 3.23 11.8 3.46 11.8 3.7V4.6Z"
            fill="#3498DB"
          />
          <path
            d="M16.36 15.68H15.53V14.85C15.53 14.63 15.44 14.42 15.29 14.26C15.13 14.1 14.92 14.02 14.7 14.02C14.48 14.02 14.27 14.11 14.11 14.26C13.95 14.42 13.87 14.63 13.87 14.85V15.68H13.04C12.82 15.68 12.61 15.77 12.45 15.92C12.29 16.08 12.21 16.29 12.21 16.51C12.21 16.73 12.3 16.94 12.45 17.1C12.61 17.26 12.82 17.34 13.04 17.34H13.87V18.17C13.87 18.39 13.96 18.6 14.11 18.76C14.27 18.92 14.48 19 14.7 19C14.92 19 15.13 18.91 15.29 18.76C15.45 18.6 15.53 18.39 15.53 18.17V17.34H16.36C16.58 17.34 16.79 17.25 16.95 17.1C17.11 16.94 17.19 16.73 17.19 16.51C17.19 16.29 17.1 16.08 16.95 15.92C16.79 15.77 16.58 15.68 16.36 15.68Z"
            fill="#3498DB"
          />
        </svg>
      </div>
      <div class="text-[#3498DB] ml-4">Add Note</div>
    {/if}
  </div>

  <div class="flex items-center bg-white rounded-md p-4 cursor-pointer mb-4">
    <div>
      <svg
        width="20"
        height="20"
        viewBox="0 0 20 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M18.3334 6.03334C18.3341 5.92366 18.313 5.81495 18.2716 5.71341C18.2301 5.61188 18.169 5.51954 18.0918 5.44167L14.5584 1.90834C14.4806 1.8311 14.3882 1.77 14.2867 1.72853C14.1852 1.68706 14.0764 1.66604 13.9668 1.66667C13.8571 1.66604 13.7484 1.68706 13.6468 1.72853C13.5453 1.77 13.453 1.8311 13.3751 1.90834L11.0168 4.26667L1.90843 13.375C1.83119 13.4529 1.77009 13.5452 1.72862 13.6467C1.68715 13.7483 1.66613 13.857 1.66676 13.9667V17.5C1.66676 17.721 1.75456 17.933 1.91084 18.0893C2.06712 18.2455 2.27908 18.3333 2.5001 18.3333H6.03343C6.15003 18.3397 6.26667 18.3214 6.37578 18.2798C6.48488 18.2382 6.58402 18.1741 6.66676 18.0917L15.7251 8.98334L18.0918 6.66667C18.1678 6.5859 18.2298 6.49295 18.2751 6.39167C18.2831 6.32525 18.2831 6.25809 18.2751 6.19167C18.279 6.15288 18.279 6.11379 18.2751 6.075L18.3334 6.03334ZM5.69176 16.6667H3.33343V14.3083L11.6084 6.03334L13.9668 8.39167L5.69176 16.6667ZM15.1418 7.21667L12.7834 4.85834L13.9668 3.68334L16.3168 6.03334L15.1418 7.21667Z"
          fill="#25282B"
        />
      </svg>
    </div>
    <div class=" ml-4 flex-grow">Client Signature</div>
    <div class="self-end">
      <svg
        width="36"
        height="23"
        viewBox="0 0 36 23"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <rect width="34" height="20" rx="10" fill="#45AAFF" />
        <g filter="url(#filter0_d_34_68)">
          <path
            d="M24 19C28.9706 19 33 14.9706 33 10C33 5.02944 28.9706 1 24 1C19.0294 1 15 5.02944 15 10C15 14.9706 19.0294 19 24 19Z"
            fill="white"
          />
        </g>
        <defs>
          <filter
            id="filter0_d_34_68"
            x="12.75"
            y="0.25"
            width="22.5"
            height="22.5"
            filterUnits="userSpaceOnUse"
            color-interpolation-filters="sRGB"
          >
            <feFlood flood-opacity="0" result="BackgroundImageFix" />
            <feColorMatrix
              in="SourceAlpha"
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
              result="hardAlpha"
            />
            <feOffset dy="1.5" />
            <feGaussianBlur stdDeviation="1.125" />
            <feColorMatrix
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"
            />
            <feBlend
              mode="multiply"
              in2="BackgroundImageFix"
              result="effect1_dropShadow_34_68"
            />
            <feBlend
              mode="normal"
              in="SourceGraphic"
              in2="effect1_dropShadow_34_68"
              result="shape"
            />
          </filter>
        </defs>
      </svg>
    </div>
  </div>

  <div class="flex bg-white rounded-md p-4 cursor-pointer mb-4">
    <div>
      <svg
        width="20"
        height="20"
        viewBox="0 0 20 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M5.83342 12.5H8.33342C8.55443 12.5 8.76639 12.4122 8.92267 12.2559C9.07895 12.0996 9.16675 11.8876 9.16675 11.6666C9.16675 11.4456 9.07895 11.2337 8.92267 11.0774C8.76639 10.9211 8.55443 10.8333 8.33342 10.8333H5.83342C5.6124 10.8333 5.40044 10.9211 5.24416 11.0774C5.08788 11.2337 5.00008 11.4456 5.00008 11.6666C5.00008 11.8876 5.08788 12.0996 5.24416 12.2559C5.40044 12.4122 5.6124 12.5 5.83342 12.5ZM15.8334 4.16663H4.16675C3.50371 4.16663 2.86782 4.43002 2.39898 4.89886C1.93014 5.3677 1.66675 6.00358 1.66675 6.66663V14.1666C1.66675 14.8297 1.93014 15.4656 2.39898 15.9344C2.86782 16.4032 3.50371 16.6666 4.16675 16.6666H15.8334C16.4965 16.6666 17.1323 16.4032 17.6012 15.9344C18.07 15.4656 18.3334 14.8297 18.3334 14.1666V6.66663C18.3334 6.00358 18.07 5.3677 17.6012 4.89886C17.1323 4.43002 16.4965 4.16663 15.8334 4.16663ZM16.6667 14.1666C16.6667 14.3876 16.579 14.5996 16.4227 14.7559C16.2664 14.9122 16.0544 15 15.8334 15H4.16675C3.94573 15 3.73377 14.9122 3.57749 14.7559C3.42121 14.5996 3.33341 14.3876 3.33341 14.1666V9.16663H16.6667V14.1666ZM16.6667 7.49996H3.33341V6.66663C3.33341 6.44561 3.42121 6.23365 3.57749 6.07737C3.73377 5.92109 3.94573 5.83329 4.16675 5.83329H15.8334C16.0544 5.83329 16.2664 5.92109 16.4227 6.07737C16.579 6.23365 16.6667 6.44561 16.6667 6.66663V7.49996Z"
          fill="#3498DB"
        />
      </svg>
    </div>
    <div class="text-[#3498DB] ml-4">Add Payment Method</div>
  </div>
</div>
